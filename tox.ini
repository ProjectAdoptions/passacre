[tox]
envlist =
    py26,
    py27,
    py33,
    py34,
    py35,
    codecov,

[testenv]
passenv =
    CI TRAVIS TRAVIS_BRANCH TRAVIS_JOB_NUMBER TRAVIS_PULL_REQUEST TRAVIS_JOB_ID
    TRAVIS_REPO_SLUG TRAVIS_COMMIT TRAVIS_BUILD_DIR TRAVIS_PYTHON_VERSION
setenv =
    PASSACRE_LIBRARY_TESTING_ONLY=yes
deps =
    pyyaml
    coverage
    pytest
commands =
    coverage run --source {envsitepackagesdir}/passacre -m pytest {posargs} {envsitepackagesdir}/passacre
    coverage html -d htmlcov-{envname}

[testenv:codecov]
basepython = python
skip_install = True
deps =
    codecov
commands =
    codecov

[flake8]
max-line-length = 119
